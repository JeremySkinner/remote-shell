# This contains common shell utilities used by all users
# This file is automatically generated and should not be modified
# If you want to override it, or customize the prompt, then you
# should put your overrides in either
# ~/.bashrc_username or ~/.remote-shell/bashrc_username.sh

DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"

# Adds support for the git prompt
source "$DIR/phpish-git/git-prompt.sh"
# Adds git tab expansion
source "$DIR/phpish-git/git-tab-expansion.sh"
# Add config injection
source "$DIR/git-inject-custom-config.sh"

# Set bash to cycle through tab expansion options on tab, rather than requiring double tab
# bind "set show-all-if-ambiguous off"
# bind '"\t":menu-complete'
# bind '"\e[Z": menu-complete-backward'

# Copy this into your own .bashrc_username for case-insensitive completion.
# bind "set completion-ignore-case on"

# Prompt customisations. There are many environment
# variables you can use to customize the prompt.
# For a complete list see
# https://github.com/JeremySkinner/remote-shell/wiki/Environment-Variables
export GIT_PROMPT_ShowStatusWhenZero=0

# Loads the git prompt
export PROMPT_COMMAND='git-prompt'

# Adds support for drush launcher (usable in any dir without an explicit reference to vendor/bin/drush)
function drush() {
  root=$(php "$DIR/DrupalFinder.php" root)
  path=$(php "$DIR/DrupalFinder.php" drush)
  eval "$path --root=$root/web $@"
}
function drupal() {
  root=$(php "$DIR/DrupalFinder.php" root)
  path=$(php "$DIR/DrupalFinder.php" drupal-console)
  eval "$path --root=$root/web $@"
}